{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"src/app/contact.service\";\nimport * as i2 from \"@angular/router\";\nimport * as i3 from \"@angular/forms\";\nimport * as i4 from \"@angular/common/http\";\nimport * as i5 from \"../../../app/page/recrutement/recrutement.component\";\nimport * as i6 from \"@angular/common\";\n\nfunction OffreavaliderComponent_tbody_40_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r3 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"tbody\")(1, \"tr\")(2, \"th\", 10);\n    i0.ɵɵtext(3);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"td\");\n    i0.ɵɵtext(5);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"td\");\n    i0.ɵɵtext(7);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(8, \"td\");\n    i0.ɵɵtext(9);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(10, \"td\")(11, \"button\", 11);\n    i0.ɵɵlistener(\"click\", function OffreavaliderComponent_tbody_40_Template_button_click_11_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r3);\n      const data_r1 = restoredCtx.$implicit;\n      const ctx_r2 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r2.valider(data_r1.id));\n    });\n    i0.ɵɵtext(12, \"valider\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(13, \" | \");\n    i0.ɵɵelementStart(14, \"button\");\n    i0.ɵɵtext(15, \"supprimer\");\n    i0.ɵɵelementEnd()()()();\n  }\n\n  if (rf & 2) {\n    const data_r1 = ctx.$implicit;\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(data_r1.id);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(data_r1.Titre);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(data_r1.Description);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" \", data_r1.dateCreationAt.split(\"T\")[0], \"\");\n  }\n}\n\nconst _c0 = function () {\n  return [\"/admin\"];\n};\n\nconst _c1 = function () {\n  return [\"/offreemploi\"];\n};\n\nconst _c2 = function () {\n  return [\"/candidat\"];\n};\n\nconst _c3 = function () {\n  return [\"/devis/admin\"];\n};\n\nexport class OffreavaliderComponent {\n  constructor(contactservice, router, formBuilder, http, recrue, rout) {\n    this.contactservice = contactservice;\n    this.router = router;\n    this.formBuilder = formBuilder;\n    this.http = http;\n    this.recrue = recrue;\n    this.rout = rout;\n    this.datas = [];\n  }\n\n  ngOnInit() {\n    this.http.get('http://localhost:8000', {\n      withCredentials: true\n    }).subscribe(valeur => {\n      if (valeur.user === null) {\n        this.router.navigate(['auth']);\n        alert('Accès non autorisé, veuillez vous connecter');\n      }\n    }, error => {\n      console.log(error);\n    });\n    this.http.get('http://localhost:8000/recrutement/').subscribe(result => {\n      for (let i = 0; i < result.data.length; i++) {\n        if (result.data[i].validation == false) {\n          console.log(result.data[i]);\n          this.datas[i] = result.data[i];\n          /*this.donnes =  {\n            'id' : result.data[i].id,\n            'Titre' : result.data[i].Titre,\n            'Description' : result.data[i].Description,\n            'dateCreationAt' : result.data[i].dateCreationAt,\n          }*/\n        }\n      }\n    });\n  }\n\n  valider(id) {\n    this.http.post('http://localhost:8000/offre/edit/' + id, '').subscribe(result => {\n      console.log(result);\n    });\n    console.log(id);\n  }\n\n}\n\nOffreavaliderComponent.ɵfac = function OffreavaliderComponent_Factory(t) {\n  return new (t || OffreavaliderComponent)(i0.ɵɵdirectiveInject(i1.ContactService), i0.ɵɵdirectiveInject(i2.Router), i0.ɵɵdirectiveInject(i3.FormBuilder), i0.ɵɵdirectiveInject(i4.HttpClient), i0.ɵɵdirectiveInject(i5.RecrutementComponent), i0.ɵɵdirectiveInject(i2.ActivatedRoute));\n};\n\nOffreavaliderComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: OffreavaliderComponent,\n  selectors: [[\"app-offreavalider\"]],\n  decls: 43,\n  vars: 11,\n  consts: [[\"id\", \"menu\", 1, \"container-fluid\", 2, \"margin\", \"0\", \"padding\", \"0\"], [1, \"navbar\", \"navbar-expand-lg\", \"navbar-light\", \"bg-light\", 2, \"display\", \"flex\"], [1, \"container\"], [\"id\", \"navbarNav\", 1, \"collapse\", \"navbar-collapse\"], [1, \"navbar-nav\"], [1, \"nav-item\"], [1, \"nav-link\", 3, \"routerLink\"], [1, \"table\"], [\"scope\", \"col\"], [4, \"ngFor\", \"ngForOf\"], [\"scope\", \"row\"], [3, \"click\"]],\n  template: function OffreavaliderComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelement(0, \"br\")(1, \"br\");\n      i0.ɵɵelementStart(2, \"div\", 0)(3, \"nav\", 1)(4, \"div\", 2)(5, \"div\", 3)(6, \"ul\", 4)(7, \"li\", 5)(8, \"a\", 6);\n      i0.ɵɵtext(9, \"| Message |\");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(10, \"li\", 5)(11, \"a\", 6);\n      i0.ɵɵtext(12, \"Offre d'emploi a valider |\");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(13, \"li\", 5)(14, \"a\", 6);\n      i0.ɵɵtext(15, \"Candidature d'emploi |\");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(16, \"li\", 5)(17, \"a\", 6);\n      i0.ɵɵtext(18, \"Demande de devis |\");\n      i0.ɵɵelementEnd()()()()()()();\n      i0.ɵɵelement(19, \"br\")(20, \"br\")(21, \"br\");\n      i0.ɵɵelementStart(22, \"div\", 2)(23, \"h2\");\n      i0.ɵɵtext(24, \" offres d'emploi\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(25, \"br\")(26, \"br\");\n      i0.ɵɵelementStart(27, \"table\", 7)(28, \"thead\")(29, \"tr\")(30, \"th\", 8);\n      i0.ɵɵtext(31, \"#\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(32, \"th\", 8);\n      i0.ɵɵtext(33, \"Titre\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(34, \"th\", 8);\n      i0.ɵɵtext(35, \"Description\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(36, \"th\", 8);\n      i0.ɵɵtext(37, \"Date de Publication\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(38, \"th\");\n      i0.ɵɵtext(39, \"action\");\n      i0.ɵɵelementEnd()()();\n      i0.ɵɵtemplate(40, OffreavaliderComponent_tbody_40_Template, 16, 4, \"tbody\", 9);\n      i0.ɵɵpipe(41, \"async\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(42, \"br\");\n      i0.ɵɵelementEnd();\n    }\n\n    if (rf & 2) {\n      i0.ɵɵadvance(8);\n      i0.ɵɵproperty(\"routerLink\", i0.ɵɵpureFunction0(7, _c0));\n      i0.ɵɵadvance(3);\n      i0.ɵɵproperty(\"routerLink\", i0.ɵɵpureFunction0(8, _c1));\n      i0.ɵɵadvance(3);\n      i0.ɵɵproperty(\"routerLink\", i0.ɵɵpureFunction0(9, _c2));\n      i0.ɵɵadvance(3);\n      i0.ɵɵproperty(\"routerLink\", i0.ɵɵpureFunction0(10, _c3));\n      i0.ɵɵadvance(23);\n      i0.ɵɵproperty(\"ngForOf\", i0.ɵɵpipeBind1(41, 5, ctx.datas));\n    }\n  },\n  dependencies: [i6.NgForOf, i2.RouterLinkWithHref, i6.AsyncPipe],\n  styles: [\"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJvZmZyZWF2YWxpZGVyLmNvbXBvbmVudC5jc3MifQ== */\"]\n});","map":{"version":3,"mappings":"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","names":["i0","OffreavaliderComponent","constructor","contactservice","router","formBuilder","http","recrue","rout","ngOnInit","get","withCredentials","subscribe","valeur","user","navigate","alert","error","console","log","result","i","data","length","validation","datas","valider","id","post","selectors","decls","vars","consts","template"],"sourceRoot":"","sources":["/home/yoyo/Documents/stage/projet/ivi_frontend/src/app/admin/offreavalider/offreavalider.component.html","/home/yoyo/Documents/stage/projet/ivi_frontend/src/app/admin/offreavalider/offreavalider.component.ts"],"sourcesContent":["<br>\n<br>\n<div class=\"container-fluid\" id=\"menu\" style=\"margin: 0 ; padding : 0;\">\n    <nav style=\"display: flex;\" class=\"navbar navbar-expand-lg navbar-light bg-light\">\n      <div class=\"container\">\n        <div class=\"collapse navbar-collapse\" id=\"navbarNav\">\n          <ul class=\"navbar-nav\">\n            <li class=\"nav-item\">\n              <a class=\"nav-link\" [routerLink]=\"['/admin']\">|  Message  |</a>\n            </li>\n            <li class=\"nav-item\">\n              <a class=\"nav-link\" [routerLink]=\"['/offreemploi']\">Offre d'emploi a valider  |</a>\n            </li>\n            <li class=\"nav-item\">\n                <a class=\"nav-link\" [routerLink]=\"['/candidat']\">Candidature d'emploi  |</a>\n              </li>\n              <li class=\"nav-item\">\n                <a class=\"nav-link\" [routerLink]=\"['/devis/admin']\">Demande de devis  |</a>\n              </li>\n          </ul>\n        </div>\n      </div>\n    \n  </nav>\n  </div><br>\n  <br>\n<br>\n\n\n<div class=\"container\">\n    <h2> offres d'emploi</h2>\n    <br>\n    <br>\n    <table class=\"table\">\n        <thead>\n          <tr>\n            <th scope=\"col\">#</th>\n            <th scope=\"col\">Titre</th>\n            <th scope=\"col\">Description</th>\n            <th scope=\"col\">Date de Publication</th>\n            <th>action</th>\n          </tr>\n        </thead>\n        <tbody *ngFor=\"let data of (datas|async)\">\n                <tr>\n                    <th scope=\"row\">{{ data.id }}</th>\n                    <td>{{ data.Titre }}</td>\n                    <td>{{ data.Description }}</td>\n                    <td> {{ data.dateCreationAt.split(\"T\")[0] }}</td>\n                    <td><button (click)=\"valider(data.id)\">valider</button> | <button>supprimer</button></td>\n                </tr>\n        </tbody>\n      </table>\n\n      <br>\n  </div>","import { Component, OnInit } from '@angular/core';\nimport { ContactService } from 'src/app/contact.service';\nimport { HttpClient } from '@angular/common/http';\nimport { RecrutementComponent } from '../../../app/page/recrutement/recrutement.component';\nimport { ActivatedRoute, Router } from '@angular/router';\nimport { identifierName } from '@angular/compiler';\nimport { FormBuilder, Validators } from '@angular/forms'; \n\n@Component({\n  selector: 'app-offreavalider',\n  templateUrl: './offreavalider.component.html',\n  styleUrls: ['./offreavalider.component.css']\n})\nexport class OffreavaliderComponent implements OnInit {\n  datas: any = [];\n  constructor(private contactservice: ContactService, private router: Router,private formBuilder: FormBuilder, private http: HttpClient, private recrue: RecrutementComponent, private rout : ActivatedRoute) { }\n\n  ngOnInit(): void {\n          this.http.get('http://localhost:8000', { withCredentials: true}).subscribe((valeur:any)=>{\n            if(valeur.user === null){\n              this.router.navigate(['auth']);\n              alert('Accès non autorisé, veuillez vous connecter')\n            }\n          },\n          (error: any) => {\n            console.log(error)\n          });\n\n          this.http.get('http://localhost:8000/recrutement/').subscribe((result: any)=>{\n      \n      \n            for(let i = 0; i < result.data.length; i++){\n              \n              if(result.data[i].validation == false){\n                console.log(result.data[i]);\n                this.datas[i] = result.data[i]\n                \n                \n                \n                \n                \n                \n                /*this.donnes =  {\n                  'id' : result.data[i].id,\n                  'Titre' : result.data[i].Titre,\n                  'Description' : result.data[i].Description,\n                  'dateCreationAt' : result.data[i].dateCreationAt,\n                }*/\n              }\n              \n            }\n            \n      \n          });\n  }\n\n  valider(id :any){\n      this.http.post('http://localhost:8000/offre/edit/'+id,  '').subscribe((result: any)=>{\n    \n        console.log(result)\n\n    });\n\n    console.log(id);\n  }\n\n}\n"]},"metadata":{},"sourceType":"module"}